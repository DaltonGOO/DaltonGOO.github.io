{% extends "base.html" %}

{% block content %}
<h1 id="hero-title">{{ section.title }}</h1>
<span class="title-underline"></span>

<a href="/" class="hero-btn" style="margin-bottom:1.5rem;display:inline-block;">‚Üê Home</a>

<input type="text" id="searchInput" placeholder="Search posts..." class="search-bar">

<div class="blog-list" id="blogList">
  {% for page in section.pages %}
    <div class="blog-card">
      <a href="{{ page.permalink }}">
        {% if page.extra.image %}
          <img src="{{ page.extra.image }}" alt="Thumbnail for {{ page.title }}" class="blog-thumb">
        {% endif %}
        <h2 class="blog-title">{{ page.title }}</h2>
        <p class="meta">{{ page.date | date(format="%B %d, %Y") }}</p>
        <p>{{ page.summary | safe }}</p>
      </a>
    </div>
  {% endfor %}
</div>

<script>
  // simple client-side search
  document.getElementById('searchInput').addEventListener('input', function() {
    const filter = this.value.toLowerCase();
    document.querySelectorAll('.blog-card').forEach(card => {
      const title = card.querySelector('.blog-title').textContent.toLowerCase();
      card.style.display = title.includes(filter) ? '' : 'none';
    });
  });
</script>
{% endblock content %}
